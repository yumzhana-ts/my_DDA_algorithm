Current issues:

1. Not handling opposite check of intersection with wall
2. When counted positive/negative tangent, maybe it can be also swapped?
3. Diagonals are not tested at all